<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <title>Meu Livro ‚Äî Promo√ß√£o</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  
  <!-- Google Fonts - mesmas do site original -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800,900|Playfair+Display:400,500,600" rel="stylesheet"/>
  
  <!-- Bootstrap e CSS personalizado -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="/css/specials/livro.css" />
</head>
<style>
  /* For√ßa o spinner a desaparecer completamente */
  #loading-spinner {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-out, visibility 0s linear 0.3s;
  }
  #loading-spinner.active {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
    transition: opacity 0.3s ease-in;
  }
</style>

<body>
  <!-- NAVEGA√á√ÉO -->
  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar ftco-navbar-light site-navbar-target" id="ftco-navbar">
    <div class="container">
     <a class="navbar-brand" href="index.html">
              <img src="images/logos/logo2.png" alt="Logo" style="width: 150px; height: 30px;">
            </a>
      <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="oi oi-menu"></span> Menu
      </button>

      <div class="collapse navbar-collapse" id="ftco-nav">
        <ul class="navbar-nav nav ml-auto">
          <li class="nav-item"><a href="/index.html#about-section" class="nav-link"><span>Quem Sou</span></a></li>
          <li class="nav-item"><a href="./consultas.html" class="nav-link"><span>Consultas</span></a></li>
          <li class="nav-item"><a href="./events.html" class="nav-link"><span>Eventos</span></a></li>
          <li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#skills-section" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  <span>Conversas d'Alma</span>
</a>
<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
  <li><a class="dropdown-item" href="./podcast.html">Podcast</a></li>
  <li><a class="dropdown-item" href="/livro.html">Livro</a></li>
</ul>
</li>
<li class="nav-item"><a href="palestras.html" class="nav-link"><span>Palestras</span></a></li>

          <li class="nav-item"><a href="/index.html#contact-section" class="nav-link"><span>Contactos</span></a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <section id="home" class="hero-section">
    <div class="container">
      <div class="row align-items-center min-vh-100">
        <div class="col-lg-6">
          <div class="hero-content">
            <p class="hero-eyebrow">NOVO LAN√áAMENTO</p>
            <h1 class="hero-title">
              <span class="gold-gradient">Transforma</span> a tua vida atrav√©s das palavras
            </h1>
            <p class="hero-description">
              O Livro d‚ÄôAlma √© um convite √† reflex√£o, ao autoconhecimento e um portal de regresso √† tua ess√™ncia!
            </p>
            <div class="hero-buttons">
              <a href="#comprar" class="btn btn-primary-libro">Comprar Agora</a>
              <a href="#sobre" class="btn btn-outline-libro">Saber Mais</a>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="hero-image">
            <div class="book-mockup">
              <img src="/images/conversas/livro/1.jpg" alt="Capa do Livro" class="book-cover">
              <div class="book-glow"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SOBRE O LIVRO -->
  <section id="sobre" class="book-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xl-10">
          <div class="manifesto-card">
            <p class="lead">
              <span class="gold-ink">Este livro</span> nasceu do desejo profundo de partilhar ferramentas pr√°ticas para a transforma√ß√£o pessoal e o crescimento espiritual.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MOVIMENTO -->
  <section class="book-section movimento-section">
    <div class="container">
      <div class="row align-items-center g-5">
        <div class="col-lg-6">
          <h2 class="section-title gold-gradient">Mais do que um livro</h2>
          <p class="section-copy">
            √â um guia pr√°tico que convida cada leitor a mergulhar dentro de si, a reconectar-se com a sua ess√™ncia e a descobrir novas formas de viver com prop√≥sito, equil√≠brio e autenticidade.
          </p>
        </div>
        <div class="col-lg-6">
          <div class="quote-card">
            <span class="quote-mark">"</span>
            <p>Se te sentes<strong> perdido/a</strong>, <strong>desconectado/a</strong>, <strong>sem dire√ß√£o‚Ä¶</strong> <br> Ent√£o este livro tamb√©m √© PARA TI!</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CAP√çTULOS -->
  <section class="book-section chapters-section">
    <div class="container">
      <div class="row justify-content-center mb-5">
        <div class="col-xl-8 text-center">
          <h2 class="section-title gold-gradient">O que vais encontrar?</h2>
          <p class="section-copy">
            O Livro d‚ÄôAlma √© um di√°rio de gratid√£o e journaling cuidadosamente estruturado para te guiar numa jornada de autodescoberta e transforma√ß√£o 

          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="chapter-card">
            <div class="chapter-number">01</div>
            <h3>Despertar Interior</h3>
            <p>Descobre como te pode ajudar a iniciar ou potenciar a tua jornada de autoconhecimento.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="chapter-card">
            <div class="chapter-number">02</div>
            <h3>Cura Emocional</h3>
            <p>Um guia pr√°tico para te guiar na tua rotina e de ajudar a libertar emo√ß√µes reprimidas e bloqueios emocionais.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="chapter-card">
            <div class="chapter-number">03</div>
            <h3>Transforma√ß√£o</h3>
            <p>Reflete, escreve e vive uma vida mais aut√™ntica e feliz.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- AUTOR -->
  <section id="autor" class="book-section author-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-5">
          <div class="author-image">
            <img src="/images/conversas/livro/2.jpg" alt="Autor" class="img-fluid">
          </div>
        </div>
        <div class="col-lg-7">
          <div class="author-content">
            <p class="author-eyebrow">SOBRE O AUTOR</p>
            <h2 class="author-title">Uma jornada de transforma√ß√£o</h2>
            <p class="author-bio">
              Com uma vasta experi√™ncia em desenvolvimento pessoal, espiritualidade e cura emocional, Jo√£o Teixeira partilha no Livro d‚ÄôAlma n√£o apenas ferramentas pr√°ticas, mas tamb√©m a ess√™ncia de um trabalho profundo que j√° ajudou centenas de pessoas a reencontrarem-se consigo mesmas.
            </p>
            <p class="author-bio">
              Este di√°rio nasce da integra√ß√£o de anos de pr√°tica terap√™utica e espiritual, reunindo exerc√≠cios, reflex√µes e perguntas orientadoras que te permitem transformar a rela√ß√£o contigo pr√≥prio/a. Mais do que escrever, trata-se de abrir espa√ßo para di√°logos internos, para largar o peso do passado e cultivar gratid√£o no presente.

            </p>
            <p class="author-bio">
              O Livro d‚ÄôAlma √© um convite a parar, sentir e reconectar-se. Uma ponte entre corpo, mente e esp√≠rito, criada para quem procura clareza, equil√≠brio e autenticidade¬†na¬†sua¬†jornada.

            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTEMUNHOS -->
  <section id="testemunhos" class="book-section testimonials-section">
    <div class="container">
      <div class="row justify-content-center mb-5">
        <div class="col-xl-8 text-center">
          <h2 class="section-title gold-gradient">O que dizem os leitores</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="testimonial-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>"Este livro mudou completamente a minha perspetiva sobre a vida. Recomendo a todos que procuram crescimento pessoal."</p>
            <div class="testimonial-author">‚Äî Maria Silva</div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="testimonial-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>"Ferramentas pr√°ticas e insights profundos. Um guia essencial para quem quer transformar a sua vida."</p>
            <div class="testimonial-author">‚Äî Jo√£o Santos</div>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="testimonial-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>"Cada p√°gina √© uma descoberta. Sinto-me mais conectado comigo mesmo ap√≥s esta leitura."</p>
            <div class="testimonial-author">‚Äî Ana Costa</div>
          </div>
        </div>
      </div>
    </div>
  </section>

    <!-- VIDEO - PROMO√á√ÉO DO LIVRO -->
  <section class="book-section video-section" id="video-livro">
    <div class="container">
      <div class="row justify-content-center pb-3">
        <div class="col-md-10 text-center">
          <h2 class="video-title gold-gradient" data-aos="fade-up">
            Um convite √† tua transforma√ß√£o
          </h2>
        </div>
      </div>

      <div class="row justify-content-center" data-aos="fade-up" data-aos-delay="200">
        <div class="col-lg-10">
          <figure class="video-card">
            <div class="video-frame">
              <video id="video-livro-file"
                     class="livro-video"
                     preload="metadata"
                     controls
                     playsinline
                     muted
                     src="/video/livro.mp4">
                O teu navegador n√£o suporta v√≠deo HTML5.
              </video>

              <!-- Bot√≥n retroceder 10s -->
              <button class="rewind-btn" type="button" aria-label="Voltar 10 segundos">
                ‚ü≤ 10s
              </button>
            </div>
          </figure>
        </div>
      </div>
    </div>
  </section>


  <!-- CALL TO ACTION -->
  <section id="comprar" class="book-section cta-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-xl-8 text-center">
          <h2 class="cta-title">COME√áA A TUA JORNADA DE TRANSFORMA√á√ÉO HOJE!</h2>
          <div class="cta-buttons">
           <a href="#" class="btn btn-primary-libro btn-lg" data-bs-toggle="modal" data-bs-target="#modalCompraLivro">
  Comprar Livro
</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <a
  href="https://chat.whatsapp.com/HsxaLQZRED59owAZEit7rw"
  class="whatsapp-float"
  target="_blank"
  rel="noopener"
  aria-label="Entrar ao grupo de WhatsApp"
  title="Entrar al grupo de WhatsApp"
>
  <!-- Icono WhatsApp (SVG inline) -->
  <span class="icon-whatsapp" style="color: white; font-size: 30px;"></span>
</a>

<!-- üßæ MODAL DE COMPRA DO LIVRO -->
<div class="modal fade" id="modalCompraLivro" tabindex="-1" aria-labelledby="modalCompraLivroLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg border-0">
      <div class="modal-header bg-dark text-white">
        <h5 class="modal-title" id="modalCompraLivroLabel">Finalizar Compra</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body text-center p-4">
        <h4 class="mb-3">Livro d‚ÄôAlma</h4>
        <p class="text-muted">Vers√£o f√≠sica com envio para todo Portugal.</p>

        <div class="price-box my-3">
          <h3 class="fw-bold text-primary mb-0">‚Ç¨43,00</h3>
          <small class="text-muted">Inclui ‚Ç¨35 (livro) + ‚Ç¨8 (portes)</small>
        </div>

        <!-- FORMUL√ÅRIO STRIPE -->
       <!-- FORMUL√ÅRIO STRIPE -->
<form id="payment-form" class="mt-4">
  <!-- üîπ Contenedor de carga -->
  <div id="loading-spinner" class="d-flex justify-content-center align-items-center my-3" style="display: none;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">A carregar...</span>
    </div>
  </div>

  <!-- üîπ Stripe renderiza aqui -->
  <div id="payment-element" style="display: none;"></div>

  <button id="submit" class="btn btn-primary btn-lg mt-4 w-100">
    <span id="button-text">Pagar ‚Ç¨43,00</span>
  </button>
  <div id="payment-message" class="mt-3 text-success" style="display:none;"></div>
</form>

      </div>
    </div>
  </div>
</div>


<!-- üü¢ MODAL DE SUCESSO -->
<div class="modal fade" id="modalCompraSucesso" tabindex="-1" aria-labelledby="modalCompraSucessoLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center border-0 shadow-lg">
      <div class="modal-body p-5">
        <div class="mb-4">
          <i class="bi bi-check-circle-fill text-success" style="font-size: 60px;"></i>
        </div>
        <h3 class="fw-bold mb-3">Pagamento realizado com sucesso!</h3>
        <p class="text-muted mb-4">Receber√°s um email com todos os detalhes da tua compra.</p>
        <button class="btn btn-success w-100" data-bs-dismiss="modal">Voltar ao in√≠cio</button>
      </div>
    </div>
  </div>
</div>



  <!-- FOOTER -->
<!-- ===================== FOOTER ===================== -->
<footer class="site-footer">
  <div class="container">
    <div class="row">
      <!-- Col 1: Marca / Lema -->
      <div class="col-md-6 col-lg-5 mb-4 mb-lg-0">
        <a class="footer-brand d-inline-flex align-items-center" href="#home-section" aria-label="Voltar ao in√≠cio">
          <img src="images/logos/logo1.png" alt="Logo" class="footer-logo">
        </a>
        <p class="footer-text mt-3">
          ‚ÄúCura, presen√ßa e autenticidade.‚Äù  
          Ajudamos-te a libertar bloqueios emocionais e a viver a tua verdade com coragem e amor.
        </p>
      </div>

      <!-- Col 2: Se√ß√µes do site -->
      <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">
        <h5 class="footer-title">Se√ß√µes</h5>
        <ul class="footer-links list-unstyled">
          <li><a href="#about-section">Quem Sou</a></li>
          <li><a href="#resume-section">Consultas</a></li>
          <li><a href="#services-section">Eventos</a></li>
          <li><a href="#agenda-joao">Agenda</a></li>
          <li><a href="#skills-section">Conversas d‚ÄôAlma</a></li>
          <li><a href="#projects-section">Palestras</a></li>
          <li><a href="#contact-section">Contactos</a></li>
        </ul>
      </div>

      <!-- Col 3: Contacto -->
      <div class="col-md-12 col-lg-4">
        <h5 class="footer-title">Contacto</h5>
        <ul class="footer-contact list-unstyled">
          <li>
            <i class="ion-ios-call"></i>
            <a href="tel:+351912127911">+351 912 127 911</a>
          </li>
          <li>
            <i class="ion-ios-mail"></i>
            <a href="mailto:joaoalexteixeira.pt@gmail.com">joaoalexteixeira.pt@gmail.com</a>
          </li>
          <li>
            <i class="ion-ios-pin"></i>
            Paredes, Porto ‚Äî Portugal
          </li>
        </ul>
      </div>
    </div>

    <hr class="footer-sep">

     <a href="https://aires-soft.com/" target="_blank" style="color: inherit; text-decoration: none;"><div class="footer-bottom text-center">
      <p class="mb-0">Sitio web criado pelo <strong>Aires-Soft</strong></p>
    </div></a>
  </div>
</footer>

<script src="https://js.stripe.com/v3/"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const stripe = Stripe("pk_test_51SGQYxGmehPkgLNuMfqUOBDtc4wMtHkqV2wINIDAnUv6MRdqXuZCt3DW9wljmtotDYU9QlNWogpVr9TCiNyG5cbn00nDfvjwAO");

  let elements;
  let paymentElement;

  const modal = document.getElementById("modalCompraLivro");

  modal.addEventListener("shown.bs.modal", async () => {
    const spinner = document.getElementById("loading-spinner");
    const paymentDiv = document.getElementById("payment-element");
    const message = document.getElementById("payment-message");

    // üîπ Mostrar spinner e ocultar o formul√°rio
    spinner.classList.add("active");
    paymentDiv.style.display = "none";
    message.style.display = "none";

    try {
      const res = await fetch("http://localhost/joao/server/create_payment_intent.php", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
      });
      const data = await res.json();

      if (!data.clientSecret) throw new Error("Erro ao criar pagamento.");

      // üîπ Inicializa Stripe Elements com apar√™ncia moderna
      elements = stripe.elements({
        clientSecret: data.clientSecret,
        appearance: {
          theme: "stripe",
          labels: "floating",
        },
      });

      // üîπ Cria o elemento de pagamento
      paymentElement = elements.create("payment");

      // üîπ Monta o elemento no container
      paymentElement.mount("#payment-element");

      // üîπ Controla a exibi√ß√£o do spinner
      let spinnerHidden = false;

      const hideSpinner = () => {
        if (spinnerHidden) return;
        spinnerHidden = true;
        spinner.classList.remove("active");
        paymentDiv.style.display = "block";
        paymentDiv.classList.add("visible");
        console.log("‚úÖ Stripe renderizado ‚Äî spinner oculto");
      };

      console.log("‚è≥ Aguardando evento 'ready' do Stripe...");
      paymentElement.on("ready", hideSpinner);

      // Fallback de seguran√ßa (4 s m√°x)
      setTimeout(hideSpinner, 4000);

    } catch (err) {
      spinner.style.display = "none";
      message.textContent = "Erro ao carregar o pagamento.";
      message.style.display = "block";
      console.error("‚ùå Erro ao iniciar Stripe:", err);
    }
  });

  // üîπ Evento de envio do pagamento
  const form = document.getElementById("payment-form");
  const message = document.getElementById("payment-message");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    if (!elements || !paymentElement) {
      message.textContent = "O formul√°rio de pagamento ainda n√£o est√° pronto. Tenta novamente em alguns segundos.";
      message.style.display = "block";
      return;
    }

    const btn = document.getElementById("submit");
    btn.disabled = true;
    btn.innerHTML = "A processar...";

    const { error, paymentIntent } = await stripe.confirmPayment({
      elements,
      confirmParams: {},
      redirect: "if_required",
    });

    btn.disabled = false;
    btn.innerHTML = "<span id='button-text'>Pagar ‚Ç¨43,00</span>";

    if (error) {
      message.textContent = error.message;
      message.style.display = "block";
    } else if (paymentIntent && paymentIntent.status === "succeeded") {
      // ‚úÖ Fecha o modal de pagamento
      const modalCompra = bootstrap.Modal.getInstance(document.getElementById("modalCompraLivro"));
      if (modalCompra) modalCompra.hide();

      // ‚úÖ Mostra o modal de sucesso
      const modalSuccess = new bootstrap.Modal(document.getElementById("modalCompraSucesso"));
      modalSuccess.show();

      console.log("‚úÖ Pagamento confirmado com sucesso!");
    }
  });
});
</script>





  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  
  <script src="js/main.js"></script>
  
  <script>
    window.addEventListener("scroll", function () {
      const navbar = document.getElementById("ftco-navbar");
      if (window.scrollY > 50) {
        navbar.classList.add("scrolled");
      } else {
        navbar.classList.remove("scrolled");
      }
    });
  </script>
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const video = document.getElementById("video-livro-file");
  
      // Espera a que cargue el metadata del video
      video.addEventListener("loadeddata", function() {
        // Pausa el video (por si se autoinicia)
        video.pause();
  
        // Mueve el tiempo al primer frame
        video.currentTime = 0;
  
        // Fuerza el repaint del primer frame
        video.addEventListener("seeked", function handleSeeked() {
          // Quita el listener para no repetir
          video.removeEventListener("seeked", handleSeeked);
        });
      });
    });
  </script>
  
</body>
</html>
